(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[267],{1971:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/carousel",function(){return n(5349)}])},5349:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var i=n(5893),r=n(7294),s=n(6329),c=n(5673),o=n(1892),a=n(95),l=n(3436),u=n(5920),M=function(e){var t=e.addNew,s=e.stateNew,M=e.setData,d=(0,c.CG)(u.WU),j=(0,r.useState)([]),x=j[0],w=j[1],L=(0,l.Z)("carousels/",{completeInterceptor:{action:function(e){w(e.data.data)}},errorInterceptor:{message:"No se obtuvieron los datos de get"}}).Get;(0,r.useEffect)((function(){""!==d.access&&""!==d.refresh&&L(d.access)}),[]);return(0,i.jsxs)(a.FT,{children:[(0,i.jsxs)(a.w8,{children:[(0,i.jsxs)(a.as,{onClick:function(){M(null),t(!s)},children:[(0,i.jsx)(a.lp,{children:"Agregar nueva"}),(0,i.jsx)(a.bb,{children:(0,i.jsx)(a.EV,{alt:"icon",src:n(1842)})})]}),(0,i.jsx)(a.nx,{children:"Lista de Carousel"})]}),(0,i.jsxs)(a.CY,{children:[(0,i.jsxs)(a.Cz,{up:!0,children:[(0,i.jsx)(a.Mt,{children:"#Numero"}),(0,i.jsx)(a.Mt,{children:"Title"}),(0,i.jsx)(a.Mt,{children:"Picture"}),(0,i.jsx)(a.Mt,{children:"Description"}),(0,i.jsx)(a.Mt,{})]}),0!==x.length&&x.map((function(e,t){var n=!1;return x.length===t+1&&(n=!0),(0,i.jsx)(a.Cz,{bot:n.toString(),children:(0,i.jsx)(o.Z,{endpointErase:"carousels/",id:e.id,title:e.title,subtitle:e.description,icon:e.image,setcatalog:function(){return M(e)}})},e.id)}))]})]})},d=n(7313),j=n(3782),x=n(3219);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){w(e,t,n[t])}))}return e}var g=function(e){var t=e.stateNew,s=e.addNew,o=e.edithData,a=(0,c.CG)(u.WU),l=(0,r.useState)(null),M=l[0],w=l[1],g=(0,r.useState)(!1),f=g[0],p=g[1],h=(0,r.useState)({title:"",description:"",image:null}),D=h[0],N=h[1],z=(0,r.useState)({title:!1,description:!1,image:!1}),m=z[0],E=z[1],T=function(e){return N(L({},D,{title:e}))},C=function(e){return N(L({},D,{description:e}))},S=function(e){return N(L({},D,{image:e}))},I=(0,x.Z)("carousels/",{completeInterceptor:{action:function(){s(!t)}},errorInterceptor:{message:"No se obtuvieron los datos de la creacion",action:function(){p(!1)}}}).Post,b=(0,j.Z)("carousels/".concat(null===o||void 0===o?void 0:o.id,"/"),{completeInterceptor:{action:function(){s(!t)}},errorInterceptor:{message:"No se obtuvieron los datos de la creacion",action:function(){p(!1)}}}).Patch;(0,r.useEffect)((function(){null!==o&&N({title:o.title,description:o.description,image:o.image})}),[o]),(0,r.useEffect)((function(){null!==M&&S(URL.createObjectURL(M))}),[M]);return(0,i.jsx)(d.BG,{children:(0,i.jsxs)(d.IB,{children:[(0,i.jsxs)(d.C2,{disabled:f,onClick:function(){return s(!t)},children:[(0,i.jsx)(d.R3,{alt:"arrow",src:n(1186)}),"Lista de Carousel"]}),(0,i.jsx)(d.HR,{}),(0,i.jsxs)(d.rw,{children:[(0,i.jsx)(d.T2,{children:"Title"}),(0,i.jsx)(d.TQ,{value:D.title,onChange:function(e){return T(e.target.value)},show:m.title.toString()}),(0,i.jsx)(d.nE,{show:m.title.toString(),children:"*Llenar campo obligatorio"})]}),(0,i.jsxs)(d.rw,{children:[(0,i.jsx)(d.T2,{children:"Description"}),(0,i.jsx)(d.d2,{value:D.description,onChange:function(e){return C(e.target.value)},show:m.description.toString()}),(0,i.jsx)(d.nE,{show:m.description.toString(),children:"*Llenar campo obligatorio"})]}),(0,i.jsxs)(d.rw,{children:[(0,i.jsx)(d.T2,{children:"Imagen"}),(0,i.jsxs)(d.WV,{show:m.image.toString(),children:[null!==D.image?(0,i.jsx)(d.$b,{children:(0,i.jsx)(d.I6,{alt:"file",src:D.image})}):(0,i.jsx)(d.Qc,{children:(0,i.jsx)(d.NE,{alt:"cloud",src:n(8979)})}),(0,i.jsx)(d.sF,{type:"file",onChange:function(e){return w(e.target.files[0])}})]}),(0,i.jsx)(d.nE,{show:m.image.toString(),children:"*Llenar campo obligatorio"})]}),(0,i.jsxs)(d.UQ,{children:[(0,i.jsx)(d.Tl,{disabled:f,onClick:function(){return s(!t)},children:"Cancelar"}),(0,i.jsx)(d.Tl,{disabled:f,onClick:function(){null!==o?function(){var e=D.title,t=D.description,n=D.image;if(""!==e&&""!==t&&null!==n){p(!0);var i=new FormData;i.append("title",e),i.append("description",t),null!==M&&i.append("image",M),b(i,{Authorization:"Bearer ".concat(a.access)})}else E({title:""===e,description:""===t,image:null===n})}():function(){var e=D.title,t=D.description,n=D.image;if(""!==e&&""!==t&&null!==n){p(!0);var i=new FormData;i.append("title",e),i.append("description",t),i.append("image",M),I(i,{Authorization:"Bearer ".concat(a.access)})}else E({title:""===e,description:""===t,image:null===n})}()},children:"Aceptar"})]})]})})},f=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1],c=(0,r.useState)(null),o=c[0],a=c[1];return(0,i.jsx)(s.Z,{children:t?(0,i.jsx)(g,{stateNew:t,addNew:n,edithData:o}):(0,i.jsx)(M,{stateNew:t,addNew:n,setData:function(e){return function(e){a(e),n(!0)}(e)}})})}},8979:function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+PHN2ZyBmaWxsPSIjMDAwMDAwIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciICB2aWV3Qm94PSIwIDAgMzAgMzAiIHdpZHRoPSIzMHB4IiBoZWlnaHQ9IjMwcHgiPiAgICA8cGF0aCBkPSJNMjUuOTgzLDEzLjM0MkMyNS45ODgsMTMuMjI4LDI2LDEzLjExNiwyNiwxM2MwLTQuNDE4LTMuNTgyLTgtOC04Yy0zLjExLDAtNS44LDEuNzc5LTcuMTIzLDQuMzcxIEMxMC4yOTYsOS4xMzYsOS42NjUsOSw5LDljLTIuNTMsMC00LjU5OSwxLjg4NS00LjkzMiw0LjMyNEMxLjcwMywxNC4xMjksMCwxNi4zNjMsMCwxOWMwLDMuMzE0LDIuNjg2LDYsNiw2aDE4IGMzLjMxNCwwLDYtMi42ODYsNi02QzMwLDE2LjM4MiwyOC4zMjEsMTQuMTYyLDI1Ljk4MywxMy4zNDJ6IE0xMS4yOTMsMTUuMjkzbDMtM0MxNC40ODgsMTIuMDk4LDE0Ljc0NCwxMiwxNSwxMiBzMC41MTIsMC4wOTgsMC43MDcsMC4yOTNsMywzYzAuMzkxLDAuMzkxLDAuMzkxLDEuMDIzLDAsMS40MTRjLTAuMzkxLDAuMzkxLTEuMDIzLDAuMzkxLTEuNDE0LDBMMTYsMTUuNDE0VjIxYzAsMC41NTItMC40NDcsMS0xLDEgcy0xLTAuNDQ4LTEtMXYtNS41ODZsLTEuMjkzLDEuMjkzYy0wLjM5MSwwLjM5MS0xLjAyMywwLjM5MS0xLjQxNCwwUzEwLjkwMiwxNS42ODQsMTEuMjkzLDE1LjI5M3oiLz48L3N2Zz4="}},function(e){e.O(0,[739,329,934,774,888,179],(function(){return t=1971,e(e.s=t);var t}));var t=e.O();_N_E=t}]);